User模块
===============

端口号
-----------
 gateway入口端口号9999
 原端口20100

接口
--------

1. 判断账户数量
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /user/count/{account}

1.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 判断此账户有几个，正常情况下是1个，没有是0个。 插入时的检测操作保证了不能存在多个相同的账户，例如A的手机号正好是B的用户名

1.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    account         String                        账户名
=============== =============== =============================================

1.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 /user/count/18136085708

1.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data           Number                          账户数量
=============== =============== =============================================

1.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "USER-SUCCESS-104",
      "message": "查询成功",
      "data": 1
    }

---------------------------------------------

2. 按ID获取用户
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

2.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /user/id/{id}

2.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 按ID获取用户

2.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
      id            String                        用户ID
=============== =============== =============================================

2.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 /user/id/1341

2.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data                                           用户信息
--------------- --------------- ---------------------------------------------
      id            Number
--------------- --------------- ---------------------------------------------
     card           String
--------------- --------------- ---------------------------------------------
     type           String
--------------- --------------- ---------------------------------------------
     name           String
--------------- --------------- ---------------------------------------------
   loginname        String
--------------- --------------- ---------------------------------------------
   password         String
--------------- --------------- ---------------------------------------------
     email          String
--------------- --------------- ---------------------------------------------
     phone          String
--------------- --------------- ---------------------------------------------
      ip            String
--------------- --------------- ---------------------------------------------
 registertime       String
--------------- --------------- ---------------------------------------------
 lastlogintime      String
--------------- --------------- ---------------------------------------------
  lastloginip       String
--------------- --------------- ---------------------------------------------
lastupdatetime      String
--------------- --------------- ---------------------------------------------
     fans           Number
--------------- --------------- ---------------------------------------------
    follow          Number
--------------- --------------- ---------------------------------------------
    islock          String
--------------- --------------- ---------------------------------------------
   isfreeze         String
--------------- --------------- ---------------------------------------------
 freezeexplain       NULL
--------------- --------------- ---------------------------------------------
freezestarttime      NULL
--------------- --------------- ---------------------------------------------
 freezeendtime       NULL
--------------- --------------- ---------------------------------------------
     state          String
--------------- --------------- ---------------------------------------------
   purseadd1        String
--------------- --------------- ---------------------------------------------
   purseadd2        String
--------------- --------------- ---------------------------------------------
    vipTime          NULL
--------------- --------------- ---------------------------------------------
     photo           NULL
--------------- --------------- ---------------------------------------------
     cont            NULL
--------------- --------------- ---------------------------------------------
      hit           Number
--------------- --------------- ---------------------------------------------
      tag            NULL
--------------- --------------- ---------------------------------------------
   backphoto         NULL
=============== =============== =============================================

2.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "USER-SUCCESS-104",
      "message": "查询成功",
      "data": {
        "id": 1341,
        "card": "1",
        "type": "company",
        "name": "15862370186",
        "loginname": "15862370186",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "email": "4654654@qq.com",
        "phone": "15862370186",
        "ip": "0:0:0:0:0:0:0:1",
        "registertime": "2019-03-25T13:02:46",
        "lastlogintime": "2019-03-25T13:42:19",
        "lastloginip": "0:0:0:0:0:0:0:1",
        "lastupdatetime": "2019-03-25T13:42:19",
        "fans": 0,
        "follow": 0,
        "islock": "n",
        "isfreeze": "n",
        "freezeexplain": null,
        "freezestarttime": null,
        "freezeendtime": null,
        "state": "remove",
        "purseadd1": "RBZGZ2aXgyW2h64ejUTHyhHMUpSNHRYjjH",
        "purseadd2": "KLYepCjtxYSWWtwgXWqpLfu7vu1KQ3Acv31PMN5vCD9brpx9hdsuVeMWo1sQ2J9sQwztjwav4pmfqxFHfGmXEwcP3q3oNJSewLhmnjeVkJUr3CWSeL6fMAwx9xtHk7LoLLqREhcpW87WEHzwCfCRGr7VrCkuWuKq59q7Ga77SzPd",
        "vipTime": null,
        "photo": null,
        "cont": null,
        "hit": 0,
        "tag": null,
        "backphoto": null
      }
    }

---------------------------------------------


3. 按账户获取用户
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

3.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /user/account/{account}

3.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 按账户获取用户

3.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    account         String                       账户名
=============== =============== =============================================

3.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 /user/account/18136085708

3.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data                                           用户信息
--------------- --------------- ---------------------------------------------
      id            Number
--------------- --------------- ---------------------------------------------
     card           String
--------------- --------------- ---------------------------------------------
     type           String
--------------- --------------- ---------------------------------------------
     name           String
--------------- --------------- ---------------------------------------------
   loginname        String
--------------- --------------- ---------------------------------------------
   password         String
--------------- --------------- ---------------------------------------------
     email          String
--------------- --------------- ---------------------------------------------
     phone          String
--------------- --------------- ---------------------------------------------
      ip            String
--------------- --------------- ---------------------------------------------
 registertime       String
--------------- --------------- ---------------------------------------------
 lastlogintime      String
--------------- --------------- ---------------------------------------------
  lastloginip       String
--------------- --------------- ---------------------------------------------
lastupdatetime      String
--------------- --------------- ---------------------------------------------
     fans           Number
--------------- --------------- ---------------------------------------------
    follow          Number
--------------- --------------- ---------------------------------------------
    islock          String
--------------- --------------- ---------------------------------------------
   isfreeze         String
--------------- --------------- ---------------------------------------------
 freezeexplain       NULL
--------------- --------------- ---------------------------------------------
freezestarttime      NULL
--------------- --------------- ---------------------------------------------
 freezeendtime       NULL
--------------- --------------- ---------------------------------------------
     state          String
--------------- --------------- ---------------------------------------------
   purseadd1        String
--------------- --------------- ---------------------------------------------
   purseadd2        String
--------------- --------------- ---------------------------------------------
    vipTime          NULL
--------------- --------------- ---------------------------------------------
     photo           NULL
--------------- --------------- ---------------------------------------------
     cont            NULL
--------------- --------------- ---------------------------------------------
      hit           Number
--------------- --------------- ---------------------------------------------
      tag            NULL
--------------- --------------- ---------------------------------------------
   backphoto         NULL
=============== =============== =============================================

3.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "USER-SUCCESS-104",
      "message": "查询成功",
      "data": {
        "id": 1341,
        "card": "1",
        "type": "company",
        "name": "15862370186",
        "loginname": "15862370186",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "email": "4654654@qq.com",
        "phone": "15862370186",
        "ip": "0:0:0:0:0:0:0:1",
        "registertime": "2019-03-25T13:02:46",
        "lastlogintime": "2019-03-25T13:42:19",
        "lastloginip": "0:0:0:0:0:0:0:1",
        "lastupdatetime": "2019-03-25T13:42:19",
        "fans": 0,
        "follow": 0,
        "islock": "n",
        "isfreeze": "n",
        "freezeexplain": null,
        "freezestarttime": null,
        "freezeendtime": null,
        "state": "remove",
        "purseadd1": "RBZGZ2aXgyW2h64ejUTHyhHMUpSNHRYjjH",
        "purseadd2": "KLYepCjtxYSWWtwgXWqpLfu7vu1KQ3Acv31PMN5vCD9brpx9hdsuVeMWo1sQ2J9sQwztjwav4pmfqxFHfGmXEwcP3q3oNJSewLhmnjeVkJUr3CWSeL6fMAwx9xtHk7LoLLqREhcpW87WEHzwCfCRGr7VrCkuWuKq59q7Ga77SzPd",
        "vipTime": null,
        "photo": null,
        "cont": null,
        "hit": 0,
        "tag": null,
        "backphoto": null
      }
    }

---------------------------------------------

4. 登录
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

4.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /user/login

4.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 根据账户和加密后的密码进行登录

4.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    account         String                        账户名
--------------- --------------- ---------------------------------------------
   password         String                         密码
--------------- --------------- ---------------------------------------------
   randomStr        String                随机字符串，记录登录失败次数
=============== =============== =============================================

4.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 /user/login?account=18136085708&&password=e10adc3949ba59abbe56e057f20f883e&&randomStr=21

4.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data           Number                      登录成功返回用户ID
=============== =============== =============================================

4.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "USER-SUCCESS-104",
      "message": "登录成功",
      "data": 1348
    }

---------------------------------------------

5. 注册
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

5.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 POST /user/regist

5.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 注册用户，用户初始用户名和登录名均和手机号相同

5.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
     phone          String                       手机号码
--------------- --------------- ---------------------------------------------
   password         String                         密码
=============== =============== =============================================

5.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 {
        "phone": "18136085709",
        "password": "123456"
    }

5.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data           Number                    注册成功返回用户ID
=============== =============== =============================================

5.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "USER-SUCCESS-101",
      "message": "注册成功",
      "data": 1405
    }

---------------------------------------------

6. 修改密码
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

6.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 PUT /user/password/reset

6.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 修改密码

6.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
      id            String                        用户ID
--------------- --------------- ---------------------------------------------
     phone          String                       手机号码
--------------- --------------- ---------------------------------------------
    newPSD          String                        新密码
=============== =============== =============================================

6.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

    {
        "id": 1348,
        "phone": "18136085708",
        "newPSD" : "e10adc3949ba59abbe56e057f20f883e"
    }

6.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data            NULL
=============== =============== =============================================

6.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "USER-SUCCESS-103",
      "message": "密码成功修改",
      "data": null
    }

---------------------------------------------
