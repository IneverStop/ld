Auth模块
========

端口号
-----------
 9999

接口
--------

1. 获取验证码
^^^^^^^^^^^^^^^^

1.1 访问路径
>>>>>>>>>>>>>>>
  GET /code

1.2 逻辑
>>>>>>>>>>>>>>>
    根据前台生成的randomStr，后台生成一个验证码图片字节流，直接返回给前台。

1.3 Request
>>>>>>>>>>>>>>>
=============== =============== =============================================
 Field Name          Type          Description
=============== =============== =============================================
 randomStr         Number        前台生成的随机字符串，前台要记录这个，之后
                                  需要根据这个验证 验证码是否正确
 randomStr        randomStr         randomStr
=============== =============== =============================================

 | 原始表
+---------------+---------------+-------------------------------------+
|   Field Name  |      Type     |    Description                      |
+===============+===============+=====================================+
|    randomStr  |      Number   |  前台生成的随机字符串，前台要记录这 |
|               |               | 个，之后需要根据这个验证 验证码是否 |
|               |               | 正确                                |
+---------------+---------------+-------------------------------------+

 | 生成表
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
     token          String
   password         String
     code           String
   randomStr        String
=============== =============== =============================================

 | 生成复杂表
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    message         String
--------------- --------------- ---------------------------------------------
     state          String
--------------- --------------- ---------------------------------------------
     data
--------------- --------------- ---------------------------------------------
    header
--------------- --------------- ---------------------------------------------
   blockHash        String
--------------- --------------- ---------------------------------------------
 previousHash       String
--------------- --------------- ---------------------------------------------
transactionRoot     String
--------------- --------------- ---------------------------------------------
worldStateRoot      String
--------------- --------------- ---------------------------------------------
    height          Number
--------------- --------------- ---------------------------------------------
   timestamp        Number
--------------- --------------- ---------------------------------------------
      cc
--------------- --------------- ---------------------------------------------
       d
--------------- --------------- ---------------------------------------------
      e1            Number
--------------- --------------- ---------------------------------------------
      e2            Number
--------------- --------------- ---------------------------------------------
      txs
--------------- --------------- ---------------------------------------------
                    String
--------------- --------------- ---------------------------------------------
=============== =============== =============================================
1.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>
 | /code?randomStr=16751551425211184

1.5 Response
>>>>>>>>>>>>>>>
 | 直接返回验证码的图片对应的字节流

1.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>
 | 空


2. 登录
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

2.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

GET /auth/token/login

2.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
提供了一个统一的接口，满足如下需求。
 1. 输入账户后首先判断账户是否存在
 2. 然后输入密码，判断密码是否正确
 3. 密码若正确，判断登录次数是否超过3次
 4. 超过3次则需要验证码
验证账号是否存在时，只传入token字段。
不带验证码登录时，需要传入除code之外的字段。
带验证码登录时，需要传入所有字段。


2.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
     token          String
--------------- --------------- ---------------------------------------------
   password         String
--------------- --------------- ---------------------------------------------
     code           String
--------------- --------------- ---------------------------------------------
   randomStr        String
=============== =============== =============================================

2.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 1. 判断账户是否存在
 /token/login?token=nihaodu
 2. 带验证码登录
 /auth/token/login?token=nihaodu&&password=123456&&randomStr=1234&&code=7nad
 3. 不带验证码登录
/auth/token/login?token=nihaodu&&password=123456&&randomStr=1234


2.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String
--------------- --------------- ---------------------------------------------
    message         String
--------------- --------------- ---------------------------------------------
     data           Number
--------------- --------------- ---------------------------------------------
=============== =============== =============================================

2.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

{
  "status": "AUTH-NORMAL-1001",
  "message": "密码不正确，请重新输入",
  "data": 1348
}
