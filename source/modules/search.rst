Search模块
===============

端口号
-----------
 gateway入口端口号9999
 原端口20110

接口
--------

1. 新增用户搜索记录
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 Post /search/addSearchHistory

1.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 新增用户搜索记录

1.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    searchKey       String                      搜索的关键词
--------------- --------------- ---------------------------------------------
 searchModule       Number      搜索的模块  1 : 表示首页  2：图书 3：杂志 4 课程
--------------- --------------- ---------------------------------------------
 operationUser      Number                  当前用户的id
=============== =============== =============================================

1.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::


    Post /search/addSearchHistory
    {
        "searchKey":"西游记",
        "searchModule":1,
        "operationUser":1410
    }



1.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data            NULL
=============== =============== =============================================

1.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 {
    "status": "SEARCH-SUCCESS-101",
    "message": "添加成功",
    "data": null
  }

---------------------------------------------


2. 用户搜索记录和热门搜索
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

2.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 Get /search/querySearchHistory/{searchModule}?associatorid=xx

2.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

  用户搜索记录和热门搜索

2.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
 searchModule       Number      搜索的模块  1 : 表示首页  2：图书 3：杂志 4 课程
--------------- --------------- ---------------------------------------------
 operationUser      Number                  当前用户的id
=============== =============== =============================================

2.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::


    GET /search/querySearchHistory/1?associatorid=1

2.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data
--------------- --------------- ---------------------------------------------
   hotSearch                                        热门历史搜索
--------------- --------------- ---------------------------------------------
   searchKey        String                        搜索关键词名称
--------------- --------------- ---------------------------------------------
     nums           Number                         搜索关键词数量
--------------- --------------- ---------------------------------------------
  ownerSearch                                     个人历史搜索
--------------- --------------- ---------------------------------------------
  searchKey        String                        搜索关键词名称
--------------- --------------- ---------------------------------------------
     nums           Number                       搜索关键词数量
=============== =============== =============================================

2.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
        "status": "SEARCH-SUCCESS-104",
        "message": "查询成功",
        "data": {
            "hotSearch": [{
                "searchKey": "艺术",
                "nums": 1
            }],
            "ownerSearch": [{
                "searchKey": "艺术",
                "nums": 1
            }]
        }
    }

---------------------------------------------

3. 用户搜索记录删除
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

3.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 Delete /search/deleteSearchHistory

3.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

  用户搜索记录删除

3.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
 searchModule       Number      搜索的模块  1 : 表示首页  2：图书 3：杂志 4 课程
--------------- --------------- ---------------------------------------------
 operationUser      Number                  当前用户的id
=============== =============== =============================================

3.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::


    Delete /search/deleteSearchHistory
    {
	    "searchModule" : 1,
	    "operationUser" : 1
    }



3.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data            NULL
=============== =============== =============================================

3.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
        "status": "SEARCH-SUCCESS-102",
        "message": "删除成功",
        "data": null
    }

---------------------------------------------


4. 搜索结果列表
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

4.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 Post /search/queryListOnSearch

4.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

  搜索结果列表

4.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
searchModule       Number      搜索的模块  1 : 表示首页  2：图书 3：杂志 4 课程
--------------- --------------- ---------------------------------------------
 searchKey        String                        搜索关键词名称
=============== =============== =============================================

4.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::
    Post /search/queryListOnSearch
    {
	    "searchModule" : 3,
	    "searchKey" : "1"
    }

4.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data
--------------- --------------- ---------------------------------------------
 magazineList                                   杂志列表
--------------- --------------- ---------------------------------------------
      id            Number                     杂志id
--------------- --------------- ---------------------------------------------
   introduce        String                      简介
--------------- --------------- ---------------------------------------------
     name           String                     杂志名
--------------- --------------- ---------------------------------------------
  authorname        String                     作者名（版权所属）
--------------- --------------- ---------------------------------------------
     ispay          Number                  是否付费   0 否 1是
--------------- --------------- ---------------------------------------------
   ispublic         Number                  是否公开  0 否 1是
--------------- --------------- ---------------------------------------------
     price          Number                       价格
--------------- --------------- ---------------------------------------------
     isbn           String                      isbn
--------------- --------------- ---------------------------------------------
     press          String                      出版社名称
--------------- --------------- ---------------------------------------------
 resource_type      Number                  资源类型;1 图书  2 杂志
--------------- --------------- ---------------------------------------------
     photo          String                   封面照片
--------------- --------------- ---------------------------------------------
  createtime        String                  出版时间
--------------- --------------- ---------------------------------------------
  courseList                                课程列表
--------------- --------------- ---------------------------------------------
      id            Number                  课程id
--------------- --------------- ---------------------------------------------
  course_name       String                  课程名称
--------------- --------------- ---------------------------------------------
     photo          String                  课程封面
--------------- --------------- ---------------------------------------------
  createtime        String                  课程创建时间
--------------- --------------- ---------------------------------------------
     ispay          Number                  是否付费   0 否 1是
--------------- --------------- ---------------------------------------------
   ispublic         Number                  是否公开  0 否 1是
--------------- --------------- ---------------------------------------------
 tearcher_name      String                  讲师名称
--------------- --------------- ---------------------------------------------
     price          String                  价格
--------------- --------------- ---------------------------------------------
  description       String                  简介
--------------- --------------- ---------------------------------------------
   bookList                                 书籍列表
--------------- --------------- ---------------------------------------------
      id            Number                  书籍id
--------------- --------------- ---------------------------------------------
   introduce        String                  书籍简介
--------------- --------------- ---------------------------------------------
     name           String                  书籍名称
--------------- --------------- ---------------------------------------------
  authorname        String                  书籍姓名
--------------- --------------- ---------------------------------------------
     ispay          Number                  是否付费   0 否 1是
--------------- --------------- ---------------------------------------------
   ispublic         Number                  是否公开  0 否 1是
--------------- --------------- ---------------------------------------------
     price          Number                       价格
--------------- --------------- ---------------------------------------------
     isbn           String                      isbn
--------------- --------------- ---------------------------------------------
     press          String                      出版社名称
--------------- --------------- ---------------------------------------------
 resource_type      Number                  资源类型;1 图书  2 杂志
--------------- --------------- ---------------------------------------------
     photo          String                   封面照片
--------------- --------------- ---------------------------------------------
  createtime        String                  出版时间
=============== =============== =============================================

4.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
        "status": "SEARCH-SUCCESS-104",
        "message": "查询成功",
        "data": {
            "magazineList": [{
                    "id": 104,
                    "introduce": "<text style='color:red'>1</text>",
                    "name": "2",
                    "authorname": "陈其华",
                    "ispay": 1,
                    "ispublic": 1,
                    "price": 1,
                    "isbn": "1",
                    "press": "2",
                    "resource_type": 2,
                    "photo": "",
                    "createtime": "2019-05-29 10:28:33"
                }
            ],
            "courseList": [{
                "id": 41,
                "course_name": "<text style='color:red'>dasgads</text>",
                "photo": "/attached/image/20190418/20190418100345_tTeX.jpg",
                "createtime": "2019-05-31 15:28:31",
                "ispay": 0,
                "ispublic": 0,
                "tearcher_name": "dt123123134",
                "price": "0",
                "description": "adsgads"
            }],
            "bookList": [{
                "id": 78,
                "introduce": "fasdgasd",
                "name": "11",
                "authorname": "陈其华",
                "ispay": 0,
                "ispublic": 1,
                "price": 0,
                "isbn": "<text style='color:red'>dasghdasga</text>",
                "press": "<text style='color:red'>dasgasd</text>",
                "resource_type": 1,
                "photo": "",
                "createtime": "2019-04-02 12:36:24"
            }]
        }
    }

---------------------------------------------



