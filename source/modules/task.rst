Task模块
===============

端口号
-----------
 gateway入口端口号9999
 原端口20130

接口
--------

1. 插入一个作业记录
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /task

1.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 插入一个作业记录

1.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
  courseType        String           （必填）课程类型 0 线上课程 1线下课程
--------------- --------------- ---------------------------------------------
   sourceId         String       （必填）当course_type为0线上课程时，
                                          此值为t_course_lesson的id
                                         当course_type为1线下课程时，
                                          此值为t_offline_course_schedule
                                          课表的id
--------------- --------------- ---------------------------------------------
   companyId        String             （必填）所属公司ID
--------------- --------------- ---------------------------------------------
    content         String             （必填）作业内容
--------------- --------------- ---------------------------------------------
 operatorUser       String             （必填）发布者ID
--------------- --------------- ---------------------------------------------
      up            String             （选填）是否置顶：0为否，1为是
--------------- --------------- ---------------------------------------------
    support         String            （选填）是否博主推荐：0为否，1为是
=============== =============== =============================================

1.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

    POST /task
    {
        "courseType": 0,
        "sourceId": 30,
        "companyId": 13,
        "ip": "192.168.0.134",
        "content": "<p>nihao</p>",
        "operatorUser": 1340,
        "up": 1
    }

1.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data           Number                      插入成功的记录数
=============== =============== =============================================

1.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "TASK-SUCCESS-101",
      "message": "添加成功",
      "data": 1
    }

---------------------------------------------

2. 发表作业的答案或者对他人答案的回复
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

2.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 POST /task/reply

2.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 发表作业的答案或者对他人答案的回复

2.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
   replyType        String         回复类型 0 一级回复  1 对回复的回复
--------------- --------------- ---------------------------------------------
   parentId         String         父节点名称(即是对哪个的评论)
--------------- --------------- ---------------------------------------------
    content         String              内容
--------------- --------------- ---------------------------------------------
 operatorUser       String                回复者ID
=============== =============== =============================================

2.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

    POST /task/reply
    {
        "replyType": 1,
        "parentId": 1,
        "content": "<span>hhhhh</span>",
        "operatorUser": 1000
    }

2.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data           Number                      插入成功的记录数
=============== =============== =============================================

2.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "TASK-SUCCESS-101",
      "message": "添加成功",
      "data": 1
    }

---------------------------------------------

3. 获取指定id的回复详情
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

3.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /task/reply

3.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 获取指定id的回复详情

3.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
  reply_type        String           回复类型 0 一级回复  1 对回复的回复
--------------- --------------- ---------------------------------------------
   parent_id        String             父节点名称(即是对哪个的评论)
--------------- --------------- ---------------------------------------------
 need_extract       Boolean             是否需要抽取缩略图
=============== =============== =============================================

3.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

    GET /task/reply?reply_type=1&&parent_id=8
3.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data
--------------- --------------- ---------------------------------------------
      id            Number                       回复ID
--------------- --------------- ---------------------------------------------
 replyUserId        Number                     回复者ID
--------------- --------------- ---------------------------------------------
replyUserPhoto      String                       回复者头像
--------------- --------------- ---------------------------------------------
replyUserName       String                     回复者姓名
--------------- --------------- ---------------------------------------------
   content          String                      回复内容
--------------- --------------- ---------------------------------------------
    praises          Number                     点赞数
--------------- --------------- ---------------------------------------------
  replyTime        String                    创建时间
--------------- --------------- ---------------------------------------------
   grades         Number                  对此信息的下级回复数
--------------- --------------- ---------------------------------------------
   text             String                抽取的文字缩略图
--------------- --------------- ---------------------------------------------
   firstImg          String                   抽取的第一张图片
=============== =============== =============================================

3.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

    {
      "status": "TASK-SUCCESS-104",
      "message": "查询成功",
      "data": [
        {
          "id": 1,
          "replyUserId": 1342,
          "replyUserPhoto": "/attached/image/20190425/20190425142757_gvTn.jpg",
          "replyUserName": "dt123123134",
          "content": "一级评论1",
          "praises": 0,
          "replyTime": "2019-07-12 15:14:11",
          "grades": 2
        },
        {
          "id": 2,
          "replyUserId": null,
          "replyUserPhoto": null,
          "replyUserName": null,
          "content": "一级评论2",
          "praises": 0,
          "replyTime": "2019-07-12 15:14:11",
          "grades": 1
        },
        {
          "id": 3,
          "replyUserId": null,
          "replyUserPhoto": null,
          "replyUserName": null,
          "content": "一级评论3",
          "praises": 0,
          "replyTime": "2019-07-12 15:14:11",
          "grades": 1
        },
        {
          "id": 4,
          "replyUserId": null,
          "replyUserPhoto": null,
          "replyUserName": null,
          "content": "一级评论4",
          "praises": 0,
          "replyTime": "2019-07-12 15:14:11",
          "grades": 1
        }
      ]
    }

---------------------------------------------

4. 根据ID查询作业基本信息
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

4.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /task/{id}

4.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 根据ID查询作业基本信息

4.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
      id            String                  作业ID
=============== =============== =============================================

4.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

    GET /task/1
4.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data
--------------- --------------- ---------------------------------------------
      id            Number                    作业ID
--------------- --------------- ---------------------------------------------
  courseType        Number          课程类型 0 线上课程 1线下课程
--------------- --------------- ---------------------------------------------
   sourceId         Number               当course_type为0线上课程时，
                                          此值为t_online_course的id
                                         当course_type为1线下课程时，
                                          此值为t_offline_course_schedule
                                          课表的id
--------------- --------------- ---------------------------------------------
   companyId        Number             所属公司ID
--------------- --------------- ---------------------------------------------
      ip            String                  发布者IP
--------------- --------------- ---------------------------------------------
    content         String                 内容
--------------- --------------- ---------------------------------------------
      up            Number                是否置顶：0为否，1为是
--------------- --------------- ---------------------------------------------
    support         Number               是否博主推荐：0为否，1为是
--------------- --------------- ---------------------------------------------
      hit           Number                点击数
--------------- --------------- ---------------------------------------------
    praise          Number                   点赞数
--------------- --------------- ---------------------------------------------
    collect         Number                  收藏数
--------------- --------------- ---------------------------------------------
     share          Number                    分享数
--------------- --------------- ---------------------------------------------
   recommend        Number                 推荐数
--------------- --------------- ---------------------------------------------
    forward         Number                转发数
--------------- --------------- ---------------------------------------------
  createTime        String                    创建时间
--------------- --------------- ---------------------------------------------
  updateTime        String                    更新时间
--------------- --------------- ---------------------------------------------
 operatorUser       Number                   回复者ID
--------------- --------------- ---------------------------------------------
   delStatus        Number              删除状态 0 可用  1 已删除
=============== =============== =============================================

4.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "TASK-SUCCESS-104",
      "message": "查询成功",
      "data": {
        "id": 1,
        "courseType": 0,
        "sourceId": 1,
        "companyId": 0,
        "ip": "11",
        "content": "11",
        "up": 0,
        "support": 0,
        "hit": 0,
        "praise": 0,
        "collect": 0,
        "share": 0,
        "recommend": 0,
        "forward": 0,
        "createTime": "2019-07-12T10:39:13",
        "updateTime": "2019-07-12T10:39:13",
        "operatorUser": 0,
        "delStatus": false
      }
    }

---------------------------------------------

5. 列出指定用户参与的所有课程作业
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

5.1 访问路径
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

 GET /task/list

5.2 逻辑
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

 列出指定用户参与的所有课程作业

5.3 Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    user_id         String                     用户ID
=============== =============== =============================================

5.4 Sample Request
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

    GET /task/list?user_id=1342
5.5 Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
=============== =============== =============================================
  Field Name         Type                        Description
=============== =============== =============================================
    status          String                           状态码
--------------- --------------- ---------------------------------------------
    message         String                          返回消息
--------------- --------------- ---------------------------------------------
     data
--------------- --------------- ---------------------------------------------
    taskId          Number                      作业ID
--------------- --------------- ---------------------------------------------
  lessonTheme       String                      课时主题
--------------- --------------- ---------------------------------------------
  teacherName       String                       教师名
--------------- --------------- ---------------------------------------------
 teacherPhoto       String                     教师头像
--------------- --------------- ---------------------------------------------
    grades          Number                      评论数
--------------- --------------- ---------------------------------------------
  createTime        String                     作业发布时间
=============== =============== =============================================

5.6 Sample Response
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
::

   {
      "status": "TASK-SUCCESS-104",
      "message": "查询成功",
      "data": [
        {
          "taskId": 222,
          "lessonTheme": "adsgasdg",
          "teacherName": "dasgasdgads",
          "teacherPhoto": "dasgasd",
          "createTime": "2019-07-15 14:41:40",
          "grades": 0
        },
        {
          "taskId": 1,
          "lessonTheme": "dsd",
          "teacherName": "dgadsg",
          "teacherPhoto": "dasgads",
          "createTime": "2019-07-15 14:41:35",
          "grades": 0
        }
      ]
    }

---------------------------------------------

